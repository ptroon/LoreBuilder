{% extends "base.html" %}
{% block title %}FortiManagers{% endblock %}
{% block head %}
    {{ super() }}

<link href="{{ url_for('static', filename='fullcalendar/packages/core/main.css')}}" rel='stylesheet' />
<link href="{{ url_for('static', filename='fullcalendar/packages/daygrid/main.css')}}" rel='stylesheet' />
<script src="{{ url_for('static', filename='fullcalendar/packages/core/main.js')}}"></script>
<script src="{{ url_for('static', filename='fullcalendar/packages/daygrid/main.js')}}"></script>
<script src="{{ url_for('static', filename='fullcalendar/packages/interaction/main.js')}}"></script>
<script src="{{ url_for('static', filename='fullcalendar/packages/moment/main.js')}}{{ unique_time() }}"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      plugins: [ 'dayGrid', 'timeGrid', 'interaction', 'timeGridDay' ],
      selectable: true,
      editable: true,
      navLinks: true,
      eventLimit: true,
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      select: function(arg) {
        var vdate = moment(arg.start).format("DD-MM-YYYY")
        $("#newBookingModal").modal();
        $("#startDate").html(vdate);
        calendar.unselect();
      }
    });

    calendar.render();
  });
</script>

{% endblock %}
{% block content %}

<div class="container-fluid mt-3">
  <h3>Bookings</h3>
  <div id='calendar' class="calendar_fpa"></div>
</div>

<div class="modal fade" id="newBookingModal" role="dialog">
    <div class="modal-dialog modal-dialog-centered">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New Booking for:  <span id="startDate" name="startDate" class="bg-primary text-white p-1"></span></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Choose a zone:
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
</div>

{% endblock %}
